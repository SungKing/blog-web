<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>写日志</title>
    <link rel="stylesheet" href="css/amazeui.min.css">
    <link rel="stylesheet" href="css/app.css">
</head>
<style>
    html,body{
        background-color: RGB(242,235,217)
    }
    form {
        align-content: center;
        align-items: center;
        margin: 5% 10%;
        
    }
    form .title{
        width: 100%;
        height: 100px;
        text-align: center
    }

    form [name='summary']{
        width: 100%;
        height: 4em;
        text-align: center
    }

</style>

<body>
    <header class="am-g am-g-fixed blog-fixed blog-text-center blog-header">
        <div class="am-u-sm-8 am-u-sm-centered">
            <p>hahahahahahah</p>
            <h2 class="am-hide-sm-only">快点记录生活吧！</h2>
        </div>
    </header>
    <hr>
    <div class="am-article-bd">
        <form method="POST" action="#">
            <input name="title" placeholder="文章标题" class="title"><br />
            <hr>
            <center><input type="checkbox" name="tag" value="1" />生活<br /></center>
            <center><input name="summary" placeholder="概述"/><br /></center>
            <hr>
            <textarea style="display:none" name="content" id="texta"></textarea>
            <div id="editor">
                <p>欢迎使用 <b>wangEditor</b> 富文本编辑器</p>
            </div>
            <div>
                <input type="submit" id="sub"/>
            </div>
        </form>
    </div>






    <!-- 注意， 只需要引用 JS，无需引用任何 CSS ！！！-->
    <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="js/wangEditor.min.js"></script>
    <script type="text/javascript">
        var E = window.wangEditor
        var editor = new E('#editor')
        // 或者 var editor = new E( document.getElementById('editor') )
        //上传图片到服务器
        editor.customConfig.uploadImgServer = '/cms/upload'
        //一次只能上传一张图片
        editor.customConfig.uploadImgMaxLength = 1
        //上传文件的名字
        editor.customConfig.uploadFileName = "images"
        //跨域上传中如果需要传递 cookie 需设置 withCredentials
        editor.customConfig.withCredentials = true

        editor.customConfig.onchange = function (html) {
            // 监控变化，同步更新到 textarea
            console.log(html)
            $("#texta").val(html)
        }
        
        editor.create()
        // 初始化 textarea 的值
        $("#texta").val(editor.txt.html())
        // $("#b1").on('click', function () {
        //     alert(editor.txt.html())
        // })
        // $("#b2").on('click', function () {
        //     alert(editor.txt.text())
        // })

    </script>
</body>

</html>